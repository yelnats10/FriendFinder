<!DOCTYPE html>
<html>

<head>
    <title>FriendFinder</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
        crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery.js"></script>
    <style>
        .modal {
            display: none; 
            position: fixed;
            padding-top: 100px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.4);
            font-weight: bold;
            font-size: 18px;
            text-align: center;
        }

        .modal-content {
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }
    </style>
</head>

<body>
    <div class="container">
        <h2>Survey Questions</h2>
        <hr>
        <h3>
            <strong>About You</strong>
        </h3>
        <form method="POST" role="form">
            <div class="form-group">
                <label for="name">Name (Required)</label>
                <input type="text" class="form-control" id="name">
            </div>
            <div class="form-group">
                <label for="link">Link to Photo Image (Required)</label>
                <input type="text" class="form-control" id="link">
            </div>
            <hr>
            <h3>
                <strong>Answer the following questions</strong>
            </h3>
            <br>
            <div class="form-group">
                <h4>
                    <strong>Question 1</strong>
                </h4>
                <label for="q1">You like watching Walking Dead. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q1">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 2</strong>
                </h4>
                <label for="q2">You like watching marvel movies. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q2">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 3</strong>
                </h4>
                <label for="q3">You like watching DC movies. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q3">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 4</strong>
                </h4>
                <label for="q4">You like watching Star Wars. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q4">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 5</strong>
                </h4>
                <label for="q5">You like watching Star Trek. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q5">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 6</strong>
                </h4>
                <label for="q6">You like watching Anime. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q6">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 7</strong>
                </h4>
                <label for="q7">You like watching Game of Thrones. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q7">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 8</strong>
                </h4>
                <label for="q8">You like watching Modern Family. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q8">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 9</strong>
                </h4>
                <label for="q9">You like watching scary movies. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q9">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
                <h4>
                    <strong>Question 10</strong>
                </h4>
                <label for="q10">You like watching Netflix shows. (1 being strongly disagree and 5 being strongly agree)</label>
                <select class="form-control" id="q10">
                    <option></option>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <br>
            </div>
        </form>

        <div id="myModal" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <H2>
                    <strong>Best Match</strong>
                </H2>
                <hr>
                <div id="send_modal">
                </div>

            </div>
        </div>

        <div class="text-left">
            <button type="submit" class="btn btn-primary btn-lg" id="submit-btn">
                </span>Submit</button>
        </div>
        <hr>
        <div class="container">
            <p>
                <a href="/api/all">API Friends List | </a> |
                <a href="https://github.com/yelnats10/FriendFinder">GitHub Repo</a>
            </p>
        </div>
    </div>

    <script type="text/javascript">
        $("#submit-btn").on("click", function () {

            var newFriend = {
                name: $("#name").val().trim(),
                photo: $("#link").val().trim(),
                score: [parseInt($("#q1").val().trim()),
                parseInt($("#q2").val().trim()),
                parseInt($("#q3").val().trim()),
                parseInt($("#q4").val().trim()),
                parseInt($("#q5").val().trim()),
                parseInt($("#q6").val().trim()),
                parseInt($("#q7").val().trim()),
                parseInt($("#q8").val().trim()),
                parseInt($("#q9").val().trim()),
                parseInt($("#q10").val().trim())]
            };

           

            var currentURL = window.location.origin;


            var modal = document.getElementById('myModal');
            var span = document.getElementsByClassName("close")[0];

            $.post(currentURL + "/api/all", newFriend, function (data) {
              

                modal.style.display = "block";



                // When the user clicks on <span> (x), close the modal
                span.onclick = function () {
                    modal.style.display = "none";
                    
                }

                // When the user clicks anywhere outside of the modal, close it
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                       
                    }
                }

                var name = $("<H3>").text(data.name);
                var inputImage = $("<img>");
                inputImage.attr("src", data.photo);
                inputImage.addClass("input-image img-thumbnail");
                $("#send_modal").html(name);
                $("#send_modal").append(inputImage);

                $("#name").val("");
                $("#link").val("");
                $("#q1").val("");
                $("#q2").val("");
                $("#q3").val("");
                $("#q4").val("");
                $("#q5").val("");
                $("#q6").val("");
                $("#q7").val("");
                $("#q8").val("");
                $("#q9").val("");
                $("#q10").val("");




            });

        });





    </script>


</body>

</html>